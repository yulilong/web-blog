<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>正则对象和正则规则 | 前端知识</title>
    <meta name="description" content="一个总结前端知识的文档网站">
    <link rel="icon" href="/logo.png">
  <script defer="defer" src="/static/jquery.slim.min.js"></script>
  <script defer="defer" src="/static/jquery.fancybox.min.js"></script>
  <link defer="defer" rel="stylesheet" type="text/css" href="/static/jquery.fancybox.min.css">
    
    <link rel="preload" href="/assets/css/0.styles.f853b4b7.css" as="style"><link rel="preload" href="/assets/js/app.d18e3cd8.js" as="script"><link rel="preload" href="/assets/js/146.5466844b.js" as="script"><link rel="prefetch" href="/assets/js/10.3c978b5a.js"><link rel="prefetch" href="/assets/js/100.9b8f41c4.js"><link rel="prefetch" href="/assets/js/101.dcb14acc.js"><link rel="prefetch" href="/assets/js/102.2a82642e.js"><link rel="prefetch" href="/assets/js/103.55c75880.js"><link rel="prefetch" href="/assets/js/104.a5152a18.js"><link rel="prefetch" href="/assets/js/105.9375539d.js"><link rel="prefetch" href="/assets/js/106.d9f1826b.js"><link rel="prefetch" href="/assets/js/107.d5c5c1f8.js"><link rel="prefetch" href="/assets/js/108.d8593f40.js"><link rel="prefetch" href="/assets/js/109.30a5fddb.js"><link rel="prefetch" href="/assets/js/11.6ab74784.js"><link rel="prefetch" href="/assets/js/110.03c611c8.js"><link rel="prefetch" href="/assets/js/111.fc7ca03e.js"><link rel="prefetch" href="/assets/js/112.367cdd66.js"><link rel="prefetch" href="/assets/js/113.cf7bb4e5.js"><link rel="prefetch" href="/assets/js/114.f57ec866.js"><link rel="prefetch" href="/assets/js/115.fe4cb724.js"><link rel="prefetch" href="/assets/js/116.36ab89d2.js"><link rel="prefetch" href="/assets/js/117.339e33c1.js"><link rel="prefetch" href="/assets/js/118.ea4fdf1f.js"><link rel="prefetch" href="/assets/js/119.2f5e7ad5.js"><link rel="prefetch" href="/assets/js/12.4cec9bb8.js"><link rel="prefetch" href="/assets/js/120.d0b6a627.js"><link rel="prefetch" href="/assets/js/121.4db5f204.js"><link rel="prefetch" href="/assets/js/122.7e8b2e37.js"><link rel="prefetch" href="/assets/js/123.8207072c.js"><link rel="prefetch" href="/assets/js/124.fb8492d2.js"><link rel="prefetch" href="/assets/js/125.14a7b753.js"><link rel="prefetch" href="/assets/js/126.083ab1b8.js"><link rel="prefetch" href="/assets/js/127.ab9e679e.js"><link rel="prefetch" href="/assets/js/128.cc5820bf.js"><link rel="prefetch" href="/assets/js/129.02bea52d.js"><link rel="prefetch" href="/assets/js/13.e972d6f5.js"><link rel="prefetch" href="/assets/js/130.f8ffe2f4.js"><link rel="prefetch" href="/assets/js/131.3c0af687.js"><link rel="prefetch" href="/assets/js/132.aa179cb6.js"><link rel="prefetch" href="/assets/js/133.cc1c8185.js"><link rel="prefetch" href="/assets/js/134.ecc94f2e.js"><link rel="prefetch" href="/assets/js/135.1675c120.js"><link rel="prefetch" href="/assets/js/136.9bb8c110.js"><link rel="prefetch" href="/assets/js/137.9a695475.js"><link rel="prefetch" href="/assets/js/138.5c1831e3.js"><link rel="prefetch" href="/assets/js/139.0a1a42fc.js"><link rel="prefetch" href="/assets/js/14.9ecf3cc3.js"><link rel="prefetch" href="/assets/js/140.3be7077d.js"><link rel="prefetch" href="/assets/js/141.28f54311.js"><link rel="prefetch" href="/assets/js/142.0f732a49.js"><link rel="prefetch" href="/assets/js/143.f881196c.js"><link rel="prefetch" href="/assets/js/144.316091b1.js"><link rel="prefetch" href="/assets/js/145.cadf2477.js"><link rel="prefetch" href="/assets/js/147.7cc8ecd4.js"><link rel="prefetch" href="/assets/js/148.0c7096b4.js"><link rel="prefetch" href="/assets/js/149.b7d0671e.js"><link rel="prefetch" href="/assets/js/15.3282e7bc.js"><link rel="prefetch" href="/assets/js/150.a47e1f20.js"><link rel="prefetch" href="/assets/js/151.36e1b50a.js"><link rel="prefetch" href="/assets/js/152.5d96ea9a.js"><link rel="prefetch" href="/assets/js/153.cc3adca1.js"><link rel="prefetch" href="/assets/js/154.687485c7.js"><link rel="prefetch" href="/assets/js/155.2ea2cbe9.js"><link rel="prefetch" href="/assets/js/156.63062ccb.js"><link rel="prefetch" href="/assets/js/157.755c1908.js"><link rel="prefetch" href="/assets/js/158.40a62d85.js"><link rel="prefetch" href="/assets/js/159.cdfe4c43.js"><link rel="prefetch" href="/assets/js/16.244bcfa5.js"><link rel="prefetch" href="/assets/js/160.68062187.js"><link rel="prefetch" href="/assets/js/161.777109f1.js"><link rel="prefetch" href="/assets/js/162.2b93ef1f.js"><link rel="prefetch" href="/assets/js/163.da08cb7d.js"><link rel="prefetch" href="/assets/js/164.db62a311.js"><link rel="prefetch" href="/assets/js/165.9612d1f6.js"><link rel="prefetch" href="/assets/js/166.5960d960.js"><link rel="prefetch" href="/assets/js/167.2f617057.js"><link rel="prefetch" href="/assets/js/168.771d586a.js"><link rel="prefetch" href="/assets/js/169.87844344.js"><link rel="prefetch" href="/assets/js/17.00bdfaf3.js"><link rel="prefetch" href="/assets/js/170.5ad0f0fe.js"><link rel="prefetch" href="/assets/js/171.22786ba3.js"><link rel="prefetch" href="/assets/js/172.49e5451f.js"><link rel="prefetch" href="/assets/js/173.7462313e.js"><link rel="prefetch" href="/assets/js/174.54b4d11a.js"><link rel="prefetch" href="/assets/js/175.864a2fa0.js"><link rel="prefetch" href="/assets/js/176.be990953.js"><link rel="prefetch" href="/assets/js/177.c8d7cc4b.js"><link rel="prefetch" href="/assets/js/178.ad23f326.js"><link rel="prefetch" href="/assets/js/179.a3371a0b.js"><link rel="prefetch" href="/assets/js/18.08f61532.js"><link rel="prefetch" href="/assets/js/180.5f048298.js"><link rel="prefetch" href="/assets/js/181.7067dd7e.js"><link rel="prefetch" href="/assets/js/182.bf312b74.js"><link rel="prefetch" href="/assets/js/183.a89af512.js"><link rel="prefetch" href="/assets/js/19.242fcc4c.js"><link rel="prefetch" href="/assets/js/20.d4eaf7fd.js"><link rel="prefetch" href="/assets/js/21.f10b82b9.js"><link rel="prefetch" href="/assets/js/22.396ecbe9.js"><link rel="prefetch" href="/assets/js/23.2a295290.js"><link rel="prefetch" href="/assets/js/24.e3566310.js"><link rel="prefetch" href="/assets/js/25.46b7f0f7.js"><link rel="prefetch" href="/assets/js/26.12012ffc.js"><link rel="prefetch" href="/assets/js/27.b93a3bc5.js"><link rel="prefetch" href="/assets/js/28.3ea2eb49.js"><link rel="prefetch" href="/assets/js/29.00cbeabe.js"><link rel="prefetch" href="/assets/js/3.b6ed6d58.js"><link rel="prefetch" href="/assets/js/30.a7935a4d.js"><link rel="prefetch" href="/assets/js/31.6d248f8a.js"><link rel="prefetch" href="/assets/js/32.f9afe09b.js"><link rel="prefetch" href="/assets/js/33.939c22ed.js"><link rel="prefetch" href="/assets/js/34.a464644d.js"><link rel="prefetch" href="/assets/js/35.e0524ba3.js"><link rel="prefetch" href="/assets/js/36.5688d8bd.js"><link rel="prefetch" href="/assets/js/37.7896942a.js"><link rel="prefetch" href="/assets/js/38.253f4230.js"><link rel="prefetch" href="/assets/js/39.9918fed7.js"><link rel="prefetch" href="/assets/js/4.8438802a.js"><link rel="prefetch" href="/assets/js/40.1d42dfef.js"><link rel="prefetch" href="/assets/js/41.76b0c57f.js"><link rel="prefetch" href="/assets/js/42.e52038b9.js"><link rel="prefetch" href="/assets/js/43.fc6145a7.js"><link rel="prefetch" href="/assets/js/44.ed10f39c.js"><link rel="prefetch" href="/assets/js/45.f9f0d3ba.js"><link rel="prefetch" href="/assets/js/46.f7837284.js"><link rel="prefetch" href="/assets/js/47.669d5c62.js"><link rel="prefetch" href="/assets/js/48.88990bb5.js"><link rel="prefetch" href="/assets/js/49.eedc9b6d.js"><link rel="prefetch" href="/assets/js/5.4b3327ea.js"><link rel="prefetch" href="/assets/js/50.38863926.js"><link rel="prefetch" href="/assets/js/51.5a4009b9.js"><link rel="prefetch" href="/assets/js/52.53824857.js"><link rel="prefetch" href="/assets/js/53.fed8ed8c.js"><link rel="prefetch" href="/assets/js/54.2828e1eb.js"><link rel="prefetch" href="/assets/js/55.15a29884.js"><link rel="prefetch" href="/assets/js/56.a1e8dd20.js"><link rel="prefetch" href="/assets/js/57.a193beae.js"><link rel="prefetch" href="/assets/js/58.a35586fc.js"><link rel="prefetch" href="/assets/js/59.298e7a30.js"><link rel="prefetch" href="/assets/js/6.8f8061d5.js"><link rel="prefetch" href="/assets/js/60.309949d3.js"><link rel="prefetch" href="/assets/js/61.5b2438a2.js"><link rel="prefetch" href="/assets/js/62.0b6fc5ab.js"><link rel="prefetch" href="/assets/js/63.9e907533.js"><link rel="prefetch" href="/assets/js/64.cf2f109e.js"><link rel="prefetch" href="/assets/js/65.2e76882c.js"><link rel="prefetch" href="/assets/js/66.1e168f9f.js"><link rel="prefetch" href="/assets/js/67.b8fa7712.js"><link rel="prefetch" href="/assets/js/68.40717004.js"><link rel="prefetch" href="/assets/js/69.54334dfe.js"><link rel="prefetch" href="/assets/js/7.d1c694a0.js"><link rel="prefetch" href="/assets/js/70.e98d0df3.js"><link rel="prefetch" href="/assets/js/71.e6e23663.js"><link rel="prefetch" href="/assets/js/72.72ec9dd5.js"><link rel="prefetch" href="/assets/js/73.c573567c.js"><link rel="prefetch" href="/assets/js/74.e6428ff0.js"><link rel="prefetch" href="/assets/js/75.49650c1b.js"><link rel="prefetch" href="/assets/js/76.810190c5.js"><link rel="prefetch" href="/assets/js/77.4316f3d1.js"><link rel="prefetch" href="/assets/js/78.41e6fcb1.js"><link rel="prefetch" href="/assets/js/79.d90102bc.js"><link rel="prefetch" href="/assets/js/8.c1134aff.js"><link rel="prefetch" href="/assets/js/80.67f442b0.js"><link rel="prefetch" href="/assets/js/81.58cd2086.js"><link rel="prefetch" href="/assets/js/82.0af25307.js"><link rel="prefetch" href="/assets/js/83.57cb0313.js"><link rel="prefetch" href="/assets/js/84.7c4c1b25.js"><link rel="prefetch" href="/assets/js/85.f07b510a.js"><link rel="prefetch" href="/assets/js/86.3252a34b.js"><link rel="prefetch" href="/assets/js/87.32c33b26.js"><link rel="prefetch" href="/assets/js/88.1a13f763.js"><link rel="prefetch" href="/assets/js/89.ce95ef88.js"><link rel="prefetch" href="/assets/js/9.cc043a67.js"><link rel="prefetch" href="/assets/js/90.4900a855.js"><link rel="prefetch" href="/assets/js/91.db19c502.js"><link rel="prefetch" href="/assets/js/92.cadb5507.js"><link rel="prefetch" href="/assets/js/93.59c3b44d.js"><link rel="prefetch" href="/assets/js/94.0c53fb42.js"><link rel="prefetch" href="/assets/js/95.69e14251.js"><link rel="prefetch" href="/assets/js/96.abcd14db.js"><link rel="prefetch" href="/assets/js/97.219ac966.js"><link rel="prefetch" href="/assets/js/98.c7176d4a.js"><link rel="prefetch" href="/assets/js/99.6bee146d.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.f48d90bd.js">
    <link rel="stylesheet" href="/assets/css/0.styles.f853b4b7.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/logo.png" alt="前端知识" class="logo"> <span class="site-name can-hide">前端知识</span></a> <div class="links" style="max-width:nullpx;"><form id="search-form" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <nav class="nav-links can-hide"><div class="nav-item"><a href="/catalog.html" class="nav-link">目录</a></div><div class="nav-item"><a href="/doc/es6/" class="nav-link">ES6</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">javascript</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/doc/js/" class="nav-link router-link-active">js</a></li><li class="dropdown-item"><!----> <a href="/doc/js/standardLibrary/" class="nav-link router-link-active">js标准库</a></li><li class="dropdown-item"><!----> <a href="/doc/dom/" class="nav-link">dom操作文档</a></li><li class="dropdown-item"><!----> <a href="/doc/browserNetwork/" class="nav-link">浏览器、网络</a></li><li class="dropdown-item"><!----> <a href="/doc/designPattern/" class="nav-link">设计模式</a></li></ul></div></div><div class="nav-item"><a href="/doc/css/" class="nav-link">CSS</a></div><div class="nav-item"><a href="/doc/html/" class="nav-link">html</a></div><div class="nav-item"><a href="/doc/react/" class="nav-link">react</a></div><div class="nav-item"><a href="/doc/vue/" class="nav-link">vue</a></div><div class="nav-item"><a href="/doc/node/" class="nav-link">node</a></div><div class="nav-item"><a href="/doc/tool/" class="nav-link">工具</a></div> <a href="https://github.com/yulilong/front-end-doc" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/catalog.html" class="nav-link">目录</a></div><div class="nav-item"><a href="/doc/es6/" class="nav-link">ES6</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">javascript</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/doc/js/" class="nav-link router-link-active">js</a></li><li class="dropdown-item"><!----> <a href="/doc/js/standardLibrary/" class="nav-link router-link-active">js标准库</a></li><li class="dropdown-item"><!----> <a href="/doc/dom/" class="nav-link">dom操作文档</a></li><li class="dropdown-item"><!----> <a href="/doc/browserNetwork/" class="nav-link">浏览器、网络</a></li><li class="dropdown-item"><!----> <a href="/doc/designPattern/" class="nav-link">设计模式</a></li></ul></div></div><div class="nav-item"><a href="/doc/css/" class="nav-link">CSS</a></div><div class="nav-item"><a href="/doc/html/" class="nav-link">html</a></div><div class="nav-item"><a href="/doc/react/" class="nav-link">react</a></div><div class="nav-item"><a href="/doc/vue/" class="nav-link">vue</a></div><div class="nav-item"><a href="/doc/node/" class="nav-link">node</a></div><div class="nav-item"><a href="/doc/tool/" class="nav-link">工具</a></div> <a href="https://github.com/yulilong/front-end-doc" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><a href="/doc/js/standardLibrary/" class="one-level sidebar-link">JS标准库</a></li><li><a href="/doc/js/standardLibrary/001-math.html" class="one-level sidebar-link">Math 对象</a></li><li><a href="/doc/js/standardLibrary/002-array.html" class="one-level sidebar-link">Array 对象</a></li><li><a href="/doc/js/standardLibrary/003-object.html" class="one-level sidebar-link">Object 对象</a></li><li><a href="/doc/js/standardLibrary/004-attributes.html" class="one-level sidebar-link">属性描述对象</a></li><li><a href="/doc/js/standardLibrary/005-String对象.html" class="one-level sidebar-link">String对象</a></li><li><a href="/doc/js/standardLibrary/006-Number对象.html" class="one-level sidebar-link">Number对象</a></li><li><a href="/doc/js/standardLibrary/007-Date对象.html" class="one-level sidebar-link">Date 对象</a></li><li><a href="/doc/js/standardLibrary/008-JSON对象.html" class="one-level sidebar-link">JSON 对象</a></li><li><a href="/doc/js/standardLibrary/009-RegExp对象.html" class="one-level one-level-active active sidebar-link">正则对象和正则规则</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/doc/js/standardLibrary/009-RegExp对象.html#_1-正则表达式规则" class="sidebar-link">1. 正则表达式规则</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/doc/js/standardLibrary/009-RegExp对象.html#_1-1-匹配特殊字符-制表符" class="sidebar-link">1.1 匹配特殊字符-制表符</a></li><li class="sidebar-sub-header"><a href="/doc/js/standardLibrary/009-RegExp对象.html#_1-2-、-、-、-字符合集、捕获、或" class="sidebar-link">1.2 []、[^]、()、|字符合集、捕获、或</a></li><li class="sidebar-sub-header"><a href="/doc/js/standardLibrary/009-RegExp对象.html#_1-3-预定义模式" class="sidebar-link">1.3 预定义模式</a></li><li class="sidebar-sub-header"><a href="/doc/js/standardLibrary/009-RegExp对象.html#_1-4-匹配边界" class="sidebar-link">1.4 匹配边界</a></li><li class="sidebar-sub-header"><a href="/doc/js/standardLibrary/009-RegExp对象.html#_1-5-量词" class="sidebar-link">1.5 量词</a></li><li class="sidebar-sub-header"><a href="/doc/js/standardLibrary/009-RegExp对象.html#_1-6-贪婪模式和非贪婪模式" class="sidebar-link">1.6 贪婪模式和非贪婪模式</a></li><li class="sidebar-sub-header"><a href="/doc/js/standardLibrary/009-RegExp对象.html#_1-7-断言-assertions-x-y-x-y" class="sidebar-link">1.7 断言(Assertions):x(?=y),x(?!y)</a></li></ul></li><li class="sidebar-sub-header"><a href="/doc/js/standardLibrary/009-RegExp对象.html#_2-regexp构造函数" class="sidebar-link">2. RegExp构造函数</a></li><li class="sidebar-sub-header"><a href="/doc/js/standardLibrary/009-RegExp对象.html#_3-regexp实例属性" class="sidebar-link">3. RegExp实例属性</a></li><li class="sidebar-sub-header"><a href="/doc/js/standardLibrary/009-RegExp对象.html#_4-regexp实例方法" class="sidebar-link">4.RegExp实例方法</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/doc/js/standardLibrary/009-RegExp对象.html#_4-1-regexp-prototype-test" class="sidebar-link">4.1 RegExp.prototype.test()</a></li><li class="sidebar-sub-header"><a href="/doc/js/standardLibrary/009-RegExp对象.html#_4-2-regexp-prototype-exec" class="sidebar-link">4.2 RegExp.prototype.exec()</a></li></ul></li><li class="sidebar-sub-header"><a href="/doc/js/standardLibrary/009-RegExp对象.html#_5-字符串的实例方法" class="sidebar-link">5. 字符串的实例方法</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/doc/js/standardLibrary/009-RegExp对象.html#_5-1-string-prototype-match" class="sidebar-link">5.1 String.prototype.match()</a></li><li class="sidebar-sub-header"><a href="/doc/js/standardLibrary/009-RegExp对象.html#_5-2-string-prototype-search" class="sidebar-link">5.2 String.prototype.search()</a></li><li class="sidebar-sub-header"><a href="/doc/js/standardLibrary/009-RegExp对象.html#_5-3-string-prototype-replace" class="sidebar-link">5.3 String.prototype.replace()</a></li><li class="sidebar-sub-header"><a href="/doc/js/standardLibrary/009-RegExp对象.html#_5-4-string-prototype-split" class="sidebar-link">5.4 String.prototype.split()</a></li></ul></li><li class="sidebar-sub-header"><a href="/doc/js/standardLibrary/009-RegExp对象.html#_6-一些实际使用例子" class="sidebar-link">6. 一些实际使用例子</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/doc/js/standardLibrary/009-RegExp对象.html#_6-1-hello-world转为helloworld" class="sidebar-link">6.1 hello-world转为HelloWorld</a></li><li class="sidebar-sub-header"><a href="/doc/js/standardLibrary/009-RegExp对象.html#_6-2-匹配手机号、固定电话" class="sidebar-link">6.2 匹配手机号、固定电话</a></li><li class="sidebar-sub-header"><a href="/doc/js/standardLibrary/009-RegExp对象.html#_6-3-匹配url" class="sidebar-link">6.3 匹配url</a></li></ul></li><li class="sidebar-sub-header"><a href="/doc/js/standardLibrary/009-RegExp对象.html#参考资料" class="sidebar-link">参考资料</a></li></ul></li></ul> </div> <div class="page"> <div class="content"><p></p><div class="table-of-contents"><ul><li><a href="#_1-正则表达式规则">1. 正则表达式规则</a><ul><li><a href="#_1-1-匹配特殊字符-制表符">1.1 匹配特殊字符-制表符</a></li><li><a href="#_1-2-、-、-、-字符合集、捕获、或">1.2 []、[^]、()、|字符合集、捕获、或</a></li><li><a href="#_1-3-预定义模式">1.3 预定义模式</a></li><li><a href="#_1-4-匹配边界">1.4 匹配边界</a></li><li><a href="#_1-5-量词">1.5 量词</a></li><li><a href="#_1-6-贪婪模式和非贪婪模式">1.6 贪婪模式和非贪婪模式</a></li><li><a href="#_1-7-断言-assertions-x-y-x-y">1.7 断言(Assertions):x(?=y),x(?!y)</a></li></ul></li><li><a href="#_2-regexp构造函数">2. RegExp构造函数</a></li><li><a href="#_3-regexp实例属性">3. RegExp实例属性</a></li><li><a href="#_4-regexp实例方法">4.RegExp实例方法</a><ul><li><a href="#_4-1-regexp-prototype-test">4.1 RegExp.prototype.test()</a></li><li><a href="#_4-2-regexp-prototype-exec">4.2 RegExp.prototype.exec()</a></li></ul></li><li><a href="#_5-字符串的实例方法">5. 字符串的实例方法</a><ul><li><a href="#_5-1-string-prototype-match">5.1 String.prototype.match()</a></li><li><a href="#_5-2-string-prototype-search">5.2 String.prototype.search()</a></li><li><a href="#_5-3-string-prototype-replace">5.3 String.prototype.replace()</a></li><li><a href="#_5-4-string-prototype-split">5.4 String.prototype.split()</a></li></ul></li><li><a href="#_6-一些实际使用例子">6. 一些实际使用例子</a><ul><li><a href="#_6-1-hello-world转为helloworld">6.1 hello-world转为HelloWorld</a></li><li><a href="#_6-2-匹配手机号、固定电话">6.2 匹配手机号、固定电话</a></li><li><a href="#_6-3-匹配url">6.3 匹配url</a></li></ul></li><li><a href="#参考资料">参考资料</a></li></ul></div><p></p> <p>[TOC]</p> <h1 id="正则对象和正则规则"><a href="#正则对象和正则规则" aria-hidden="true" class="header-anchor">#</a> 正则对象和正则规则</h1> <h2 id="_1-正则表达式规则"><a href="#_1-正则表达式规则" aria-hidden="true" class="header-anchor">#</a> 1. 正则表达式规则</h2> <p>一个正则表达式模式是由简单的字符所构成的,一个字符（转义字符算一个）对应字符串一个字符.</p> <p>如<code>/abc/</code>中，仅仅当'abc'同时出现并按照这个顺序，&quot;Hi abc&quot;和&quot;My name is abc&quot;会匹配到'abc',而&quot;Grab crab&quot;中将不会匹配。</p> <p>当你需要搜索一个比直接匹配需要更多条件的匹配时,比如寻找一个或多个 'b'，或者寻找空格，那么这时模式将要包含特殊字符。</p> <h3 id="_1-1-匹配特殊字符-制表符"><a href="#_1-1-匹配特殊字符-制表符" aria-hidden="true" class="header-anchor">#</a> 1.1 匹配特殊字符-制表符</h3> <p>正则表达式对一些不能打印的特殊字符，提供了表达方法。</p> <table><thead><tr><th style="text-align:left">表达式</th> <th style="text-align:left">含义</th></tr></thead> <tbody><tr><td style="text-align:left">\n</td> <td style="text-align:left">匹配换行符</td></tr> <tr><td style="text-align:left">\r</td> <td style="text-align:left">匹配回车符</td></tr> <tr><td style="text-align:left">\t</td> <td style="text-align:left">匹配水平制表符 tab（U+0009）</td></tr> <tr><td style="text-align:left">\v</td> <td style="text-align:left">匹配垂直制表符（U+000B）</td></tr> <tr><td style="text-align:left">\f</td> <td style="text-align:left">匹配换页符（U+000C）</td></tr> <tr><td style="text-align:left">\0</td> <td style="text-align:left">匹配<code>null</code>字符（U+0000），空字符(c/c++ 语言中的字符串结束符，在ASCII字符集中对应空字符NULL，数值为0)</td></tr> <tr><td style="text-align:left">\xhh</td> <td style="text-align:left">匹配一个以两位十六进制数（<code>\x00</code>-<code>\xFF</code>）表示的字符</td></tr> <tr><td style="text-align:left">\uhhhh</td> <td style="text-align:left">匹配一个以四位十六进制数（<code>\u0000</code>-<code>\uFFFF</code>）表示的 Unicode 字符</td></tr> <tr><td style="text-align:left">\cX</td> <td style="text-align:left">表示<code>Ctrl-[X]</code>，其中的<code>X</code>是A-Z之中任一个英文字母，用来匹配控制字符</td></tr> <tr><td style="text-align:left">[\b]</td> <td style="text-align:left">匹配退格键(U+0008)，不要与<code>\b</code>混淆。</td></tr></tbody></table> <p>使用例子：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token string">'\tda\nda'</span><span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex">/\t/</span><span class="token punctuation">)</span>		<span class="token operator">=&gt;</span> <span class="token punctuation">[</span><span class="token string">&quot;	&quot;</span><span class="token punctuation">,</span> index<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span> input<span class="token punctuation">:</span> <span class="token string">&quot;	da↵da&quot;</span><span class="token punctuation">]</span>
<span class="token string">'\tda\nda'</span><span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex">/\n/</span><span class="token punctuation">)</span>		<span class="token operator">=&gt;</span> <span class="token punctuation">[</span><span class="token string">&quot;↵&quot;</span><span class="token punctuation">,</span> index<span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">,</span> input<span class="token punctuation">:</span> <span class="token string">&quot;	da↵da&quot;</span><span class="token punctuation">]</span>
</code></pre></div><h3 id="_1-2-、-、-、-字符合集、捕获、或"><a href="#_1-2-、-、-、-字符合集、捕获、或" aria-hidden="true" class="header-anchor">#</a> 1.2 []、<code>[^]</code>、()、|字符合集、捕获、或</h3> <table><thead><tr><th>字符</th> <th>含义</th></tr></thead> <tbody><tr><td>[abc]</td> <td>一个字符集合。匹配方括号的中任意字符，包括转义字符。你可以使用破折号（-）来指定一个字符范围。对于点（.）和星号（*）这样的特殊符号在一个字符集中没有特殊的意义。他们不必进行转义，不过转义也是起作用的。 [abcd] 和[a-d]是一样的， /[a-z.]+/ 和/[\w.]+/一样。</td></tr> <tr><td><code>[^a-c]</code></td> <td>一个反向字符集。也就是说， 它匹配任何没有包含在方括号中的字符。你可以使用破折号（-）来指定一个字符范围。任何普通字符在这里都是起作用的。<code>[^abc]</code>和<code>[^a-c]</code>是一样的。</td></tr> <tr><td>(x)</td> <td>匹配 'x' 并且记住匹配项, 括号被称为 <em>捕获括号</em>。捕获的内容存在RegExp.$1到RegExp.$9中(最多存9个)， 在replace方法中，则要使用<code>$1</code>、<code>$2</code>、<code>$n</code> 这样的语法，例如，<code>'bar foo'.replace( /(...) (...)/, '$2 $1' )</code></td></tr> <tr><td>(?:x)</td> <td>匹配 'x' 但是不记住匹配项。叫作非捕获括号.可用来定义为与正则表达式运算符一起使用的子表达式。如 /(?:foo){1,2}/则{1,2}会匹配整个 ‘foo’ 单词。</td></tr> <tr><td><code>(\n)</code></td> <td>n指数字，表示重复第n个分组匹配到的数据,比如：<code>'123dsadas123'.match(/(\d{3}).*(\1)/)</code>，第一个括号分支匹配的内容是<code>123</code>,那么<code>(\1)</code>匹配的内容必须也是<code>123</code>, 这个字符串就不匹配<code>123dsadas456</code></td></tr> <tr><td><code>x|y</code></td> <td>匹配‘x’或者‘y’</td></tr></tbody></table> <p>使用例子：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// chrome 浏览器 -&gt; Developer Tools -&gt; Console</span>
<span class="token string">'@#$a2*()'</span><span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex">/[a-z][0-9]/</span><span class="token punctuation">)</span>			<span class="token comment">// [&quot;a2&quot;, index: 3, input: &quot;@#$a2*()&quot;]</span>
<span class="token string">'@#$a2*()'</span><span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex">/[^a-z][^0-9]/</span><span class="token punctuation">)</span>		<span class="token comment">// [&quot;@#&quot;, index: 0, input: &quot;@#$a2*()&quot;]</span>
<span class="token string">'green apple'</span><span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex">/green|red/</span><span class="token punctuation">)</span>		<span class="token comment">// [&quot;green&quot;, index: 0, input: &quot;green apple&quot;]</span>
<span class="token string">'Hi, hello world'</span><span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex">/(hello).*(world)/</span><span class="token punctuation">)</span>	
<span class="token comment">// [&quot;hello world&quot;, &quot;hello&quot;, &quot;world&quot;, index: 4, input: &quot;Hi, hello world&quot;]</span>
RegExp<span class="token punctuation">.</span>$<span class="token number">1</span>		<span class="token comment">//	&quot;hello&quot;</span>
RegExp<span class="token punctuation">.</span>$<span class="token number">2</span>		<span class="token comment">//	&quot;world&quot;</span>
RegExp<span class="token punctuation">.</span>$<span class="token number">3</span>		<span class="token comment">//	&quot;&quot;</span>
<span class="token string">'Hi, hello world'</span><span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex">/(?:hello).*(world)/</span><span class="token punctuation">)</span>	
<span class="token comment">// [&quot;hello world&quot;, &quot;world&quot;, index: 4, input: &quot;Hi, hello world&quot;]</span>
RegExp<span class="token punctuation">.</span>$<span class="token number">1</span>		<span class="token comment">// &quot;world&quot;</span>
RegExp<span class="token punctuation">.</span>$<span class="token number">2</span>		<span class="token comment">// &quot;&quot;</span>
</code></pre></div><h3 id="_1-3-预定义模式"><a href="#_1-3-预定义模式" aria-hidden="true" class="header-anchor">#</a> 1.3 预定义模式</h3> <p>预定义模式指的是某些常见模式的简写方式。</p> <p>预定义： 一个特殊字符代表了一类字符的合集。</p> <table><thead><tr><th>字符</th> <th>含义</th> <th>相当于</th></tr></thead> <tbody><tr><td>.</td> <td>(小数点)匹配除换行符之外的任何单个字符</td> <td><code>[^\r\n]</code></td></tr> <tr><td>\d</td> <td>匹配0-9之间的任一数字</td> <td><code>[0-9]</code></td></tr> <tr><td>\D</td> <td>匹配所有0-9以外的字符</td> <td><code>[^0-9]</code></td></tr> <tr><td>\s</td> <td>匹配空白符( 空格、制表符、换页符和换行符)</td> <td><code>\f\n\r\t\v\u00a0\u1680\u180e\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff</code></td></tr> <tr><td>\S</td> <td>匹配一个非空白字符</td> <td><code>[^\s]</code></td></tr> <tr><td>\w</td> <td>匹配任意的字母、数字和下划线</td> <td><code>[A-Za-z0-9_]</code></td></tr> <tr><td>\W</td> <td>除所有字母、数字和下划线以外的字符</td> <td><code>[^A-Za-z0-9_]</code></td></tr></tbody></table> <p>下面是一些例子。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// \s 的例子</span>
<span class="token operator">/</span>\s\w<span class="token operator">*</span><span class="token operator">/</span><span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span><span class="token string">'hello world'</span><span class="token punctuation">)</span> <span class="token comment">// [&quot; world&quot;]</span>
</code></pre></div><h3 id="_1-4-匹配边界"><a href="#_1-4-匹配边界" aria-hidden="true" class="header-anchor">#</a> 1.4 匹配边界</h3> <p>规定一个特殊字符表示匹配的边界。</p> <table><thead><tr><th>字符</th> <th>含义</th></tr></thead> <tbody><tr><td>^</td> <td>匹配输入的开始, 多行标志被设置为true，那么也匹配换行符后紧跟的位置。 /^A/ 不会匹配 &quot;an A&quot; 中的 'A', 会匹配 &quot;An E&quot; 中的 'A'。注：^在[]中含义就变了，<code>[^]</code>表示取反。</td></tr> <tr><td>$</td> <td>匹配输入的结束。如果多行标示被设置为true，那么也匹配换行符前的位置。 /t$/ 并不会匹配 &quot;eater&quot; 中的 't'，但是会匹配 &quot;eat&quot; 中的 't'。</td></tr> <tr><td>\b</td> <td>词的边界。 /\bm/匹配“moon”中得‘m’， /oon\b/匹配&quot;moon&quot;中得'oon'。</td></tr> <tr><td>\B</td> <td>匹配非词边界，即在词的内部。</td></tr></tbody></table> <p>例子：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">'hello1 whello9orld 12-hello8-3456 hello0'</span>
str<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex">/^hello\d/g</span><span class="token punctuation">)</span>		<span class="token comment">// [&quot;hello1&quot;]</span>
str<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex">/hello\d$/g</span><span class="token punctuation">)</span>		<span class="token comment">// [&quot;hello0&quot;]</span>
str<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex">/\bhello\d\b/g</span><span class="token punctuation">)</span>	<span class="token comment">// [&quot;hello1&quot;, &quot;hello8&quot;, &quot;hello0&quot;] // -也用于区分单词</span>
<span class="token comment">// \b 的例子</span>
<span class="token operator">/</span>\bworld<span class="token operator">/</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'hello world'</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
<span class="token operator">/</span>\bworld<span class="token operator">/</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'hello-world'</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
<span class="token operator">/</span>\bworld<span class="token operator">/</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'helloworld'</span><span class="token punctuation">)</span> <span class="token comment">// false</span>
<span class="token comment">// \B 的例子</span>
<span class="token operator">/</span>\Bworld<span class="token operator">/</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'hello-world'</span><span class="token punctuation">)</span> <span class="token comment">// false</span>
<span class="token operator">/</span>\Bworld<span class="token operator">/</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'helloworld'</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
</code></pre></div><h3 id="_1-5-量词"><a href="#_1-5-量词" aria-hidden="true" class="header-anchor">#</a> 1.5 量词</h3> <p>下面介绍的字符可以表示一个字符出现多次的定义。</p> <table><thead><tr><th>字符</th> <th>含义</th></tr></thead> <tbody><tr><td>?</td> <td>匹配前面一个表达式0次或者1次。等价于 {0,1}。 （最多出现一次）</td></tr> <tr><td>+</td> <td>匹配前面一个表达式1次或者多次。等价于 {1,}。 （至少出现一次）</td></tr> <tr><td>*</td> <td>匹配前一个表达式0次或多次。等价于 {0,}。 （任意次）</td></tr> <tr><td>{n}</td> <td>n是一个正整数，匹配了前面一个字符刚好发生了n次。</td></tr> <tr><td>{n,m}</td> <td>n和m都是整数。匹配前面的字符至少n次,最多m次。如果n或者m的值是0,这个值被忽略。</td></tr> <tr><td>{n,}</td> <td>前面一个字符至少出现n次</td></tr></tbody></table> <p>例子：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 匹配手机号 (chrome 浏览器 -&gt; Developer Tools -&gt; Console)</span>
<span class="token string">'dsa+8613244043289sss'</span><span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex">/(\+86)?1[2-8]\d{9}/</span><span class="token punctuation">)</span>	
<span class="token comment">// [&quot;+8613244043289&quot;, &quot;+86&quot;, index: 3, input: &quot;dsa+8613244043289sss&quot;]</span>
<span class="token string">'dsa13244043289sss'</span><span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex">/(?:\+86)?1[2-8]\d{9}/</span><span class="token punctuation">)</span>	
<span class="token comment">// [&quot;13244043289&quot;, index: 3, input: &quot;dsa13244043289sss&quot;]</span>
<span class="token string">'hello worldworld'</span><span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex">/(?:world){1,2}/</span><span class="token punctuation">)</span>	
<span class="token comment">// [&quot;worldworld&quot;, index: 6, input: &quot;hello worldworld&quot;]</span>
<span class="token string">'hello worldworld'</span><span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex">/(?:world){1}/</span><span class="token punctuation">)</span>	
<span class="token comment">// [&quot;world&quot;, index: 6, input: &quot;hello worldworld&quot;]</span>
</code></pre></div><h3 id="_1-6-贪婪模式和非贪婪模式"><a href="#_1-6-贪婪模式和非贪婪模式" aria-hidden="true" class="header-anchor">#</a> 1.6 贪婪模式和非贪婪模式</h3> <p>上面的量词(?、+、*)默认情况下都是最大可能匹配，即匹配直到下一个字符不满足匹配规则为止。这被称为贪婪模式。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token string">'a+8613244043289s'</span><span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex">/\d{4,8}/</span><span class="token punctuation">)</span>
<span class="token comment">// [&quot;86132440&quot;, index: 2, input: &quot;a+8613244043289s&quot;, groups: undefined]</span>
</code></pre></div><p>上面代码，模式是<code>/\d{4,8}/</code>,表示匹配4到8个数字，因为默认是贪婪模式，会一直匹配到最多，所以匹配到了8个数字。</p> <p>如果想将贪婪模式改为非贪婪模式，可以在量词符后面加一个问号。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token string">'a+8613244043289s'</span><span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex">/\d{4,8}?/</span><span class="token punctuation">)</span>
<span class="token comment">// [&quot;8613&quot;, index: 2, input: &quot;a+8613244043289s&quot;, groups: undefined]</span>
</code></pre></div><p>上面代码中，模式结尾添加了一个问号，这时就改为非贪婪模式，一旦条件满足，就不再往下匹配。</p> <p>除了非贪婪模式的加号，还有非贪婪模式的星号（<code>*</code>）和非贪婪模式的问号（<code>?</code>）。</p> <ul><li><code>+?</code>：表示某个模式出现1次或多次，匹配时采用非贪婪模式。</li> <li><code>*?</code>：表示某个模式出现0次或多次，匹配时采用非贪婪模式。</li> <li><code>??</code>：表格某个模式出现0次或1次，匹配时采用非贪婪模式。</li></ul> <h3 id="_1-7-断言-assertions-x-y-x-y"><a href="#_1-7-断言-assertions-x-y-x-y" aria-hidden="true" class="header-anchor">#</a> 1.7 断言(Assertions):<code>x(?=y)</code>,<code>x(?!y)</code></h3> <p><code>x(?=y)</code>称为先行断言（Positive look-ahead），<code>x</code>只有在<code>y</code>前面才匹配，<code>y</code>不会被计入返回结果。比如，要匹配后面跟着百分号的数字，可以写成<code>/\d+(?=%)/</code>。</p> <p><code>x(?!y)</code>称为先行否定断言（Negative look-ahead），<code>x</code>只有不在<code>y</code>前面才匹配，<code>y</code>不会被计入返回结果。比如，要匹配后面跟的不是百分号的数字，就要写成<code>/\d+(?!%)/</code>。</p> <table><thead><tr><th>字符</th> <th>含义</th></tr></thead> <tbody><tr><td>x(?=y)</td> <td>仅匹配被y跟随的x。</td></tr> <tr><td>x(?!y)</td> <td>仅匹配不被y跟随的x</td></tr></tbody></table> <p>例子：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token string">'Hi, hello world'</span><span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex">/hello(?= world)/</span><span class="token punctuation">)</span>
<span class="token comment">// [&quot;hello&quot;, index: 4, input: &quot;Hi, hello world&quot;]</span>
<span class="token string">'Hi, hello Jack'</span><span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex">/hello(?= world)/</span><span class="token punctuation">)</span>	<span class="token comment">// null   </span>
<span class="token string">'3.141'</span><span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex">/\d+(?!\.)/</span><span class="token punctuation">)</span>					<span class="token comment">// [&quot;141&quot;, index: 2, input: &quot;3.141&quot;]</span>
</code></pre></div><h2 id="_2-regexp构造函数"><a href="#_2-regexp构造函数" aria-hidden="true" class="header-anchor">#</a> 2. RegExp构造函数</h2> <p>正则表达式（英语：Regular Expression，在代码中常简写为regex、regexp或RE）使用单个字符串来描述、匹配一系列符合某个句法规则的字符串搜索模式。JavaScript 的正则表达式体系是参照 Perl 5 建立的。</p> <p>新建正则表达式有两种方法。一种是使用字面量，以斜杠表示开始和结束。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> regex <span class="token operator">=</span> <span class="token regex">/xyz/</span><span class="token punctuation">;</span>
</code></pre></div><p>另一种是使用<code>RegExp</code>构造函数。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> regex <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span><span class="token string">'xyz'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>上面两种写法是等价的，都新建了一个内容为<code>xyz</code>的正则表达式对象。它们的主要区别是，第一种方法在引擎编译代码时，就会新建正则表达式，第二种方法在运行时新建正则表达式，所以前者的效率较高。而且，前者比较便利和直观，所以实际应用中，基本上都采用字面量定义正则表达式。</p> <p>RegExp(pattern, attributes)有两个参数:</p> <p>第一个参数是pattern: 匹配规则，可以是字符串、正则表达式、RegExp对象，如果是字符串<code>\</code>需要转义<code>\\</code></p> <p>第二个是可选参数，表示匹配模式，可选值(可组合)：</p> <blockquote><p>g：global，全局匹配，找到所有匹配，而不是在第一个匹配后停止</p> <p>i：ingore case，忽略大小写，默认大小写敏感</p> <p>m：multiple lines，多行搜索 , 将开始和结束字符（^和$）视为在多行上工作</p> <p>u: Unicode; 将模式视为Unicode序列点的序列</p> <p>y: 粘性匹配; 仅匹配目标字符串中此正则表达式的lastIndex属性指示的索引(并且不尝试从任何后续的索引匹配)。</p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> regex <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span><span class="token string">'xyz'</span><span class="token punctuation">,</span> <span class="token string">'i'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 等价于</span>
<span class="token keyword">var</span> regex <span class="token operator">=</span> <span class="token regex">/xyz/i</span><span class="token punctuation">;</span>
</code></pre></div><p>上面代码中，正则表达式<code>/xyz/</code>有一个修饰符<code>i</code>。</p> <h2 id="_3-regexp实例属性"><a href="#_3-regexp实例属性" aria-hidden="true" class="header-anchor">#</a> 3. RegExp实例属性</h2> <p>正则对象的实例属性分成两类。</p> <p>一类是修饰符相关，用于了解设置了什么修饰符。</p> <ul><li><code>RegExp.prototype.ignoreCase</code>：返回一个布尔值，表示是否设置了<code>i</code>修饰符。</li> <li><code>RegExp.prototype.global</code>：返回一个布尔值，表示是否设置了<code>g</code>修饰符。</li> <li><code>RegExp.prototype.multiline</code>：返回一个布尔值，表示是否设置了<code>m</code>修饰符。</li> <li><code>RegExp.prototype.flags</code>：返回一个字符串，包含了已经设置的所有修饰符，按字母排序。</li></ul> <p>上面四个属性都是只读的。</p> <p>另一类是与修饰符无关的属性，主要是下面两个。</p> <ul><li><code>RegExp.prototype.lastIndex</code>：返回一个整数，表示下一次开始搜索的位置。该属性可读写，但是只在进行连续搜索时有意义，详细介绍请看后文。</li> <li><code>RegExp.prototype.source</code>：返回正则表达式的字符串形式（不包括反斜杠），该属性只读。</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> r <span class="token operator">=</span> <span class="token regex">/abc/igm</span><span class="token punctuation">;</span>

r<span class="token punctuation">.</span>ignoreCase <span class="token comment">// true</span>
r<span class="token punctuation">.</span>global <span class="token comment">// true</span>
r<span class="token punctuation">.</span>multiline <span class="token comment">// true</span>
r<span class="token punctuation">.</span>flags <span class="token comment">// 'gim'</span>
r<span class="token punctuation">.</span>lastIndex <span class="token comment">// 0</span>
r<span class="token punctuation">.</span>source <span class="token comment">// &quot;abc&quot;</span>
</code></pre></div><h2 id="_4-regexp实例方法"><a href="#_4-regexp实例方法" aria-hidden="true" class="header-anchor">#</a> 4.RegExp实例方法</h2> <h3 id="_4-1-regexp-prototype-test"><a href="#_4-1-regexp-prototype-test" aria-hidden="true" class="header-anchor">#</a> 4.1 RegExp.prototype.test()</h3> <p>正则实例对象的<code>test</code>方法返回一个布尔值，表示当前模式是否能匹配参数字符串。</p> <p>如果正则表达式带有<code>g</code>修饰符，则每一次<code>test</code>方法都从上一次结束的位置开始向后匹配。带有<code>g</code>修饰符时，可以通过正则对象的<code>lastIndex</code>属性指定开始搜索的位置。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> r <span class="token operator">=</span> <span class="token regex">/x/g</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> s <span class="token operator">=</span> <span class="token string">'_x_x'</span><span class="token punctuation">;</span>
r<span class="token punctuation">.</span>lastIndex <span class="token comment">// 0</span>
r<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span> <span class="token comment">// true</span>
r<span class="token punctuation">.</span>lastIndex <span class="token comment">// 2</span>
<span class="token comment">// 代码指定从字符串的第五个位置开始搜索，这个位置为空，所以返回false。同时，lastIndex属性重置为0，所以第二次执行r.test(s)会返回true。</span>
r<span class="token punctuation">.</span>lastIndex <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span>
r<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span> <span class="token comment">// false</span>
r<span class="token punctuation">.</span>lastIndex <span class="token comment">// 0</span>
r<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span> <span class="token comment">// true</span>
</code></pre></div><p>注意，带有<code>g</code>修饰符时，正则表达式内部会记住上一次的<code>lastIndex</code>属性，这时不应该更换所要匹配的字符串，否则会有一些难以察觉的错误。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> r <span class="token operator">=</span> <span class="token regex">/bb/g</span><span class="token punctuation">;</span>
r<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'bb'</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
<span class="token comment">// 由于正则表达式r是从上一次的lastIndex位置开始匹配，导致第二次执行test方法时出现预期以外的结果。</span>
r<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'-bb-'</span><span class="token punctuation">)</span> <span class="token comment">// false</span>
</code></pre></div><p><code>lastIndex</code>属性只对同一个正则表达式有效，所以下面这样写是错误的。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token regex">/a/g</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'babaa'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> count<span class="token operator">++</span><span class="token punctuation">;</span>
</code></pre></div><p>上面代码会导致无限循环，因为<code>while</code>循环的每次匹配条件都是一个新的正则表达式，导致<code>lastIndex</code>属性总是等于0。</p> <p>如果正则模式是一个空字符串，则匹配所有字符串。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'abc'</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
</code></pre></div><h3 id="_4-2-regexp-prototype-exec"><a href="#_4-2-regexp-prototype-exec" aria-hidden="true" class="header-anchor">#</a> 4.2 RegExp.prototype.exec()</h3> <p>正则实例对象的<code>exec()</code>方法，用来返回匹配结果。如果发现匹配，就返回一个数组，成员是匹配成功的子字符串，否则返回<code>null</code>。</p> <p>如果正则表示式包含圆括号（即含有“组匹配”），则返回的数组会包括多个成员。第一个成员是整个匹配成功的结果，后面的成员就是圆括号对应的匹配成功的组。也就是说，第二个成员对应第一个括号，第三个成员对应第二个括号，以此类推。整个数组的<code>length</code>属性等于组匹配的数量再加1。</p> <p>exec方法返回值(数组)说明：</p> <table><thead><tr><th>属性</th> <th>说明</th></tr></thead> <tbody><tr><td>[0]</td> <td>匹配的结果</td></tr> <tr><td>[1], ……[n]</td> <td>括号中的分组捕获</td></tr> <tr><td>index</td> <td>模式匹配成功的开始位置（从0开始计数）</td></tr> <tr><td>input</td> <td>原始字符串</td></tr></tbody></table> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> s <span class="token operator">=</span> <span class="token string">'_x_x'</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> r1 <span class="token operator">=</span> <span class="token regex">/x/</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> r2 <span class="token operator">=</span> <span class="token regex">/y/</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> r3 <span class="token operator">=</span> <span class="token regex">/_(x)/</span><span class="token punctuation">;</span>
r1<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span> <span class="token comment">// [&quot;x&quot;, index: 1, input: &quot;_x_x&quot;, groups: undefined]</span>
r2<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span> <span class="token comment">// null</span>
r3<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span> <span class="token comment">// [&quot;_x&quot;, &quot;x&quot;, index: 0, input: &quot;_x_x&quot;, groups: undefined]</span>
</code></pre></div><p>如果正则表达式加上<code>g</code>修饰符，则可以使用多次<code>exec()</code>方法，下一次搜索的位置从上一次匹配成功结束的位置开始。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> reg <span class="token operator">=</span> <span class="token regex">/a/g</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">'abc_abc_abc'</span>

reg<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [&quot;a&quot;, index: 0, input: &quot;abc_abc_abc&quot;, groups: undefined]</span>
reg<span class="token punctuation">.</span>lastIndex <span class="token comment">// 1</span>
reg<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [&quot;a&quot;, index: 4, input: &quot;abc_abc_abc&quot;, groups: undefined]</span>
reg<span class="token punctuation">.</span>lastIndex <span class="token comment">// 5</span>
reg<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [&quot;a&quot;, index: 8, input: &quot;abc_abc_abc&quot;, groups: undefined]</span>
reg<span class="token punctuation">.</span>lastIndex <span class="token comment">// 9</span>
reg<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// null</span>
reg<span class="token punctuation">.</span>lastIndex <span class="token comment">// 0</span>
</code></pre></div><p>利用<code>g</code>修饰符允许多次匹配的特点，可以用一个循环完成全部匹配。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> reg <span class="token operator">=</span> <span class="token regex">/a/g</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">'abc_abc_abc'</span>
<span class="token comment">// 只要exec()方法不返回null，就会一直循环下去，每次输出匹配的位置和匹配的文本。</span>
<span class="token keyword">while</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> match <span class="token operator">=</span> reg<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>match<span class="token punctuation">)</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'#'</span> <span class="token operator">+</span> match<span class="token punctuation">.</span>index <span class="token operator">+</span> <span class="token string">':'</span> <span class="token operator">+</span> match<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// #0:a</span>
<span class="token comment">// #4:a</span>
<span class="token comment">// #8:a</span>
</code></pre></div><p>正则实例对象的<code>lastIndex</code>属性不仅可读，还可写。设置了<code>g</code>修饰符的时候，只要手动设置了<code>lastIndex</code>的值，就会从指定位置开始匹配。</p> <h2 id="_5-字符串的实例方法"><a href="#_5-字符串的实例方法" aria-hidden="true" class="header-anchor">#</a> 5. 字符串的实例方法</h2> <p>字符串的实例方法之中，有4种与正则表达式有关。</p> <ul><li><code>String.prototype.match()</code>：返回一个数组，成员是所有匹配的子字符串。</li> <li><code>String.prototype.search()</code>：按照给定的正则表达式进行搜索，返回一个整数，表示匹配开始的位置。</li> <li><code>String.prototype.replace()</code>：按照给定的正则表达式进行替换，返回替换后的字符串。</li> <li><code>String.prototype.split()</code>：按照给定规则进行字符串分割，返回一个数组，包含分割后的各个成员。</li></ul> <h3 id="_5-1-string-prototype-match"><a href="#_5-1-string-prototype-match" aria-hidden="true" class="header-anchor">#</a> 5.1 String.prototype.match()</h3> <p><code>match</code>方法检索字符串，找到一个或多个与regexp匹配的文本。字符串的<code>match</code>方法与正则对象的<code>exec</code>方法非常类似：匹配成功返回一个数组，匹配失败返回<code>null</code>。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> s <span class="token operator">=</span> <span class="token string">'_x_x'</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> r1 <span class="token operator">=</span> <span class="token regex">/x/</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> r2 <span class="token operator">=</span> <span class="token regex">/y/</span><span class="token punctuation">;</span>
s<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>r1<span class="token punctuation">)</span> <span class="token comment">// [&quot;x&quot;, index: 1, input: &quot;_x_x&quot;, groups: undefined]</span>
s<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>r2<span class="token punctuation">)</span> <span class="token comment">// null</span>
</code></pre></div><p>如果正则表达式带有<code>g</code>修饰符，则该方法与正则对象的<code>exec</code>方法行为不同，会一次性返回所有匹配成功的结果。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> s <span class="token operator">=</span> <span class="token string">'abba'</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> r <span class="token operator">=</span> <span class="token regex">/a/g</span><span class="token punctuation">;</span>
s<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>r<span class="token punctuation">)</span> <span class="token comment">// [&quot;a&quot;, &quot;a&quot;]</span>
r<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span> <span class="token comment">// [&quot;a&quot;]</span>
</code></pre></div><p>设置正则表达式的<code>lastIndex</code>属性，对<code>match</code>方法无效，匹配总是从字符串的第一个字符开始。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> r <span class="token operator">=</span> <span class="token regex">/a|b/g</span><span class="token punctuation">;</span>
r<span class="token punctuation">.</span>lastIndex <span class="token operator">=</span> <span class="token number">7</span><span class="token punctuation">;</span>
<span class="token string">'xaxb'</span><span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>r<span class="token punctuation">)</span> <span class="token comment">// ['a', 'b']</span>
r<span class="token punctuation">.</span>lastIndex <span class="token comment">// 0</span>
</code></pre></div><h3 id="_5-2-string-prototype-search"><a href="#_5-2-string-prototype-search" aria-hidden="true" class="header-anchor">#</a> 5.2 String.prototype.search()</h3> <p>字符串对象的<code>search</code>方法，返回第一个满足条件的匹配结果在整个字符串中的位置。如果没有任何匹配，则返回<code>-1</code>。</p> <p>search()方法不会执行全局匹配(忽略标志'g'),不管执行多少次，结果都一样，因为search()方法总是从字符串开始位置进行检索。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token string">'_x_x'</span><span class="token punctuation">.</span><span class="token function">search</span><span class="token punctuation">(</span><span class="token regex">/x/</span><span class="token punctuation">)</span>
<span class="token comment">// 1</span>
</code></pre></div><h3 id="_5-3-string-prototype-replace"><a href="#_5-3-string-prototype-replace" aria-hidden="true" class="header-anchor">#</a> 5.3 String.prototype.replace()</h3> <p>字符串对象的<code>replace</code>方法用于在字符串中把特定的值替换成新值，特定的值可以使用字符串或正则表达式去找，新值可以是一个字符串或者函数(返回一个字符串)。注意：原字符串不会改变。</p> <p>正则表达式如果不加<code>g</code>修饰符，就替换第一个匹配成功的值，否则替换所有匹配成功的值。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token string">'aaa'</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">)</span> <span class="token comment">// &quot;baa&quot;</span>
<span class="token string">'aaa'</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex">/a/</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">)</span> <span class="token comment">// &quot;baa&quot;</span>
<span class="token string">'aaa'</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex">/a/g</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">)</span> <span class="token comment">// &quot;bbb&quot;</span>
</code></pre></div><p><code>replace</code>方法的第二个参数可以使用美元符号<code>$</code>，用来指代所替换的内容。</p> <ul><li><code>$&amp;</code>：匹配的子字符串。</li> <li>`$``：匹配结果前面的文本。</li> <li><code>$'</code>：匹配结果后面的文本。</li> <li><code>$n</code>：匹配成功的第<code>n</code>组内容，<code>n</code>是从1开始的自然数。</li> <li><code>$$</code>：指代美元符号<code>$</code>。</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token string">'hello world'</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex">/(\w+)\s(\w+)/</span><span class="token punctuation">,</span> <span class="token string">'$2 $1'</span><span class="token punctuation">)</span> <span class="token comment">// &quot;world hello&quot;</span>
<span class="token string">'abc'</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token string">'[$`-$&amp;-$\']'</span><span class="token punctuation">)</span> <span class="token comment">// &quot;a[a-b-c]c&quot;</span>
</code></pre></div><p><code>replace</code>方法的第二个参数还可以是一个函数，将每一个匹配内容替换为函数返回值。改函数可以接受多个参数。其中，第一个参数是捕捉到的内容，第二个参数是捕捉到的组匹配（有多少个组匹配，就有多少个对应的参数）。此外，最后还可以添加两个参数，倒数第二个参数是捕捉到的内容在整个字符串中的位置（比如从第五个位置开始），最后一个参数是原字符串。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token string">'3 and 5'</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex">/[0-9]+/g</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>match<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token number">2</span> <span class="token operator">*</span> match<span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// &quot;6 and 10&quot;</span>

<span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token string">'The quick brown fox jumped over the lazy dog.'</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> pattern <span class="token operator">=</span> <span class="token regex">/quick|brown|lazy/ig</span><span class="token punctuation">;</span>
a<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>pattern<span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token function">replacer</span><span class="token punctuation">(</span>match<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> match<span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// The QUICK BROWN fox jumped over the LAZY dog.</span>

<span class="token keyword">var</span> prices <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token string">'p1'</span><span class="token punctuation">:</span> <span class="token string">'$1.99'</span><span class="token punctuation">,</span> <span class="token string">'p2'</span><span class="token punctuation">:</span> <span class="token string">'$9.99'</span><span class="token punctuation">,</span> <span class="token string">'p3'</span><span class="token punctuation">:</span> <span class="token string">'$5.00'</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> template <span class="token operator">=</span> <span class="token string">'&lt;span id=&quot;p1&quot;&gt;&lt;/span&gt;'</span>
  <span class="token operator">+</span> <span class="token string">'&lt;span id=&quot;p2&quot;&gt;&lt;/span&gt;'</span>
  <span class="token operator">+</span> <span class="token string">'&lt;span id=&quot;p3&quot;&gt;&lt;/span&gt;'</span><span class="token punctuation">;</span>
<span class="token comment">// 捕捉模式中，有四个括号，所以会产生四个组匹配，在匹配函数中用$1到$4表示。匹配函数的作用是将价格插入模板中。</span>
template<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>
  <span class="token regex">/(&lt;span id=&quot;)(.*?)(&quot;&gt;)(&lt;\/span&gt;)/g</span><span class="token punctuation">,</span>
  <span class="token keyword">function</span><span class="token punctuation">(</span>match<span class="token punctuation">,</span> $<span class="token number">1</span><span class="token punctuation">,</span> $<span class="token number">2</span><span class="token punctuation">,</span> $<span class="token number">3</span><span class="token punctuation">,</span> $<span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> $<span class="token number">1</span> <span class="token operator">+</span> $<span class="token number">2</span> <span class="token operator">+</span> $<span class="token number">3</span> <span class="token operator">+</span> prices<span class="token punctuation">[</span>$<span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">+</span> $<span class="token number">4</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// &quot;&lt;span id=&quot;p1&quot;&gt;$1.99&lt;/span&gt;&lt;span id=&quot;p2&quot;&gt;$9.99&lt;/span&gt;&lt;span id=&quot;p3&quot;&gt;$5.00&lt;/span&gt;&quot;</span>
</code></pre></div><h3 id="_5-4-string-prototype-split"><a href="#_5-4-string-prototype-split" aria-hidden="true" class="header-anchor">#</a> 5.4 String.prototype.split()</h3> <p>split方法用于把一个字符串分割成字符串数组。</p> <p>该方法接受两个参数：</p> <p>第一个参数必填，字符串或正则表达式，从该参数指定的地方分割字符串,如果该参数是空字符串(&quot;&quot;)，则字符串会在每个字符之间分割。</p> <p>第二个参数可选，指定返回的数组的最大长度。返回的子串不会多于这个参数指定的数组。如果没有设置该参数，整个字符串都会被分割。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 非正则分隔</span>
<span class="token string">'a,  b,c, d'</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">','</span><span class="token punctuation">)</span> <span class="token comment">// [ 'a', '  b', 'c', ' d' ]</span>

<span class="token comment">// 正则分隔，去除多余的空格</span>
<span class="token string">'a,  b,c, d'</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token regex">/, */</span><span class="token punctuation">)</span> <span class="token comment">// [ 'a', 'b', 'c', 'd' ]</span>

<span class="token comment">// 指定返回数组的最大成员</span>
<span class="token string">'a,  b,c, d'</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token regex">/, */</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token comment">// [ 'a', 'b' ]</span>

<span class="token comment">// 例一: 第一个分隔符是aaa，第二个分割符是a，将字符串分成三个部分，包含开始处的空字符串</span>
<span class="token string">'aaa*a*'</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token regex">/a*/</span><span class="token punctuation">)</span> <span class="token comment">// [ '', '*', '*' ]</span>

<span class="token comment">// 例二: 第一个分隔符是aaa，第二个分隔符是0个a（即空字符），第三个分隔符是a，所以将字符串分成四个部分。</span>
<span class="token string">'aaa**a*'</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token regex">/a*/</span><span class="token punctuation">)</span> <span class="token comment">// [&quot;&quot;, &quot;*&quot;, &quot;*&quot;, &quot;*&quot;]</span>
</code></pre></div><p>如果正则表达式带有括号，则括号匹配的部分也会作为数组成员返回。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token string">'aaa*a*'</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token regex">/(a*)/</span><span class="token punctuation">)</span>
<span class="token comment">// [ '', 'aaa', '*', 'a', '*' ]</span>
</code></pre></div><p>上面代码的正则表达式使用了括号，第一个组匹配是<code>aaa</code>，第二个组匹配是<code>a</code>，它们都作为数组成员返回。</p> <h2 id="_6-一些实际使用例子"><a href="#_6-一些实际使用例子" aria-hidden="true" class="header-anchor">#</a> 6. 一些实际使用例子</h2> <h3 id="_6-1-hello-world转为helloworld"><a href="#_6-1-hello-world转为helloworld" aria-hidden="true" class="header-anchor">#</a> 6.1 hello-world转为HelloWorld</h3> <p>将<code>hello-world-jack</code> 转为<code>HelloWorldJack</code>.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">'hello-world-jack'</span>
<span class="token keyword">function</span> <span class="token function">camelize</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span> <span class="token punctuation">{</span>
   <span class="token keyword">return</span>  str<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex">/(^\w)|-(\w)/g</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token comment">// console.log(arguments)</span>
      <span class="token keyword">var</span> target <span class="token operator">=</span> arguments<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">||</span> arguments<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span>
      <span class="token keyword">return</span> target<span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_6-2-匹配手机号、固定电话"><a href="#_6-2-匹配手机号、固定电话" aria-hidden="true" class="header-anchor">#</a> 6.2 匹配手机号、固定电话</h3> <p>中国的座机号码是有三个部分，分别是代表当地的区号，分隔符及具体的号码。即：000-00000000；</p> <ul><li>区号：以数字0开始，并跟随2-3个数字</li> <li>分隔符：以’-‘代替，便于书面的理解；</li> <li>具体的号码：大部分地区的号码是7-8位数字组成；</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token regex">/0\d{2,3}-\d{7,8}/</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'028-2580344'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 传真~</span>
<span class="token regex">/^(\d{3,4}-)?\d{7,8}$/</span>
</code></pre></div><p>手机号：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token regex">/^1\d{10}$/</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'13304278888'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_6-3-匹配url"><a href="#_6-3-匹配url" aria-hidden="true" class="header-anchor">#</a> 6.3 匹配url</h3> <p>一个url例子：http://wwww.baidu.com:80/wenku?user=yu&amp;search=biaoshu#id</p> <p>URL地址匹配格式： protocol 😕/ hostname[:port] / path /?query#fragment</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> reg <span class="token operator">=</span> <span class="token regex">/^(https?:\/\/)?([0-9a-z.]+)(:[0-9]+)?([/0-9a-z.]+)?(\?[0-9a-z&amp;=]+)?(#[0-9-a-z]+)?/i</span>
reg<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'http://wwww.baidu.com:80/wenku?user=yu&amp;search=biaoshu#id'</span><span class="token punctuation">)</span>

<span class="token operator">/</span><span class="token operator">^</span><span class="token punctuation">(</span>https<span class="token operator">?</span><span class="token punctuation">:</span>\<span class="token operator">/</span>\<span class="token operator">/</span><span class="token punctuation">)</span><span class="token operator">?</span><span class="token operator">/</span> <span class="token comment">// 协议：http:// 或 https:// 可选</span>
<span class="token operator">/</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token operator">-</span><span class="token number">9</span>a<span class="token operator">-</span>z<span class="token punctuation">.</span><span class="token punctuation">]</span><span class="token operator">+</span><span class="token punctuation">)</span><span class="token operator">/</span> <span class="token comment">// 域名：www.baidu.com</span>
<span class="token operator">/</span><span class="token punctuation">(</span><span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token operator">-</span><span class="token number">9</span><span class="token punctuation">]</span><span class="token operator">+</span><span class="token punctuation">)</span><span class="token operator">?</span><span class="token operator">/</span> <span class="token comment">// 端口： :80 可选</span>
<span class="token operator">/</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token operator">/</span><span class="token number">0</span><span class="token operator">-</span><span class="token number">9</span>a<span class="token operator">-</span>z<span class="token punctuation">.</span><span class="token punctuation">]</span><span class="token operator">+</span><span class="token punctuation">)</span><span class="token operator">?</span><span class="token operator">/</span> <span class="token comment">// 网页路径， 可选</span>
<span class="token operator">/</span><span class="token punctuation">(</span>\<span class="token operator">?</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token operator">-</span><span class="token number">9</span>a<span class="token operator">-</span>z<span class="token operator">&amp;=</span><span class="token punctuation">]</span><span class="token operator">+</span><span class="token punctuation">)</span><span class="token operator">?</span><span class="token operator">/</span> <span class="token comment">// 网址参数， 可选</span>
<span class="token operator">/</span><span class="token punctuation">(</span>#<span class="token punctuation">[</span><span class="token number">0</span><span class="token operator">-</span><span class="token number">9</span><span class="token operator">-</span>a<span class="token operator">-</span>z<span class="token punctuation">]</span><span class="token operator">+</span><span class="token punctuation">)</span><span class="token operator">?</span><span class="token operator">/</span> <span class="token comment">// 瞄点， 可选</span>
</code></pre></div><p>另一个版本：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 参考： https://www.jb51.net/article/31550.htm</span>
<span class="token keyword">function</span> <span class="token function">IsURL</span> <span class="token punctuation">(</span>str_url<span class="token punctuation">)</span> <span class="token punctuation">{</span> 
  <span class="token keyword">var</span> strRegex <span class="token operator">=</span> <span class="token string">'^((https|http|ftp|rtsp|mms)?://)?'</span> <span class="token comment">// 协议</span>
  <span class="token operator">+</span> <span class="token string">'(([0-9a-z_!~*\'().&amp;=+$%-]+: )?[0-9a-z_!~*\'().&amp;=+$%-]+@)?'</span> <span class="token comment">//ftp的user@ </span>
  <span class="token operator">+</span> <span class="token string">'(([0-9]{1,3}.){3}[0-9]{1,3}'</span> <span class="token comment">// IP形式的URL- 199.194.52.184 </span>
  <span class="token operator">+</span> <span class="token string">'|'</span> <span class="token comment">// 允许IP和DOMAIN（域名） </span>
  <span class="token operator">+</span> <span class="token string">'([0-9a-z_!~*\'()-]+.)*'</span> <span class="token comment">// 域名- www. </span>
  <span class="token operator">+</span> <span class="token string">'([0-9a-z][0-9a-z-]{0,61})?[0-9a-z].'</span> <span class="token comment">// 二级域名 </span>
  <span class="token operator">+</span> <span class="token string">'[a-z]{2,6})'</span> <span class="token comment">// first level domain- .com or .museum </span>
  <span class="token operator">+</span> <span class="token string">'(:[0-9]{1,4})?'</span> <span class="token comment">// 端口- :80 </span>
  <span class="token operator">+</span> <span class="token string">'((/?)|'</span> <span class="token comment">// 如果没有文件名，则不需要斜杠</span>
  <span class="token operator">+</span> <span class="token string">'(/[0-9a-z_!~*\'().;?:@&amp;=+$,%#-]+)+/?)$'</span><span class="token punctuation">;</span> 
  <span class="token keyword">var</span> re<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span>strRegex<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>re<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>str_url<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
    <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span> 
    <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
  <span class="token punctuation">}</span> 
<span class="token punctuation">}</span>
</code></pre></div><h2 id="参考资料"><a href="#参考资料" aria-hidden="true" class="header-anchor">#</a> 参考资料</h2> <ul><li><p>饥人谷课件</p> <p><a href="http://book.jirengu.com/fe/%E5%89%8D%E7%AB%AF%E5%9F%BA%E7%A1%80/Javascript/%E6%AD%A3%E5%88%99%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95.html" target="_blank" rel="noopener noreferrer">正则基本语法<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p><a href="http://book.jirengu.com/fe/%E5%89%8D%E7%AB%AF%E5%9F%BA%E7%A1%80/Javascript/%E6%AD%A3%E5%88%99%E7%9B%B8%E5%85%B3%E6%96%B9%E6%B3%95.html" target="_blank" rel="noopener noreferrer">正则相关方法<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></li> <li><p>mdn资料</p> <p><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Guide/Regular_Expressions#special-negated-character-set" target="_blank" rel="noopener noreferrer">正则表达式<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/RegExp#assertions" target="_blank" rel="noopener noreferrer">RegExp对象介绍<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String" target="_blank" rel="noopener noreferrer">String对象介绍<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></li></ul> <p><a href="https://github.com/ziishaned/learn-regex" target="_blank" rel="noopener noreferrer">学习正则表达式 github<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p><a href="https://wangdoc.com/javascript/stdlib/regexp.html#stringprototypereplace" target="_blank" rel="noopener noreferrer">RegExp 对象 阮一峰 ES5<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></div> <div class="page-edit"><div class="edit-link"><a href="https://github.com/yulilong/front-end-doc/edit/master/doc/js/standardLibrary/009-RegExp对象.md" target="_blank" rel="noopener noreferrer">Edit this page</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">9/8/2020, 4:24:33 PM</span></div></div> <!----> </div> <!----></div></div>
    <script src="/assets/js/146.5466844b.js" defer></script><script src="/assets/js/app.d18e3cd8.js" defer></script>
  </body>
</html>
